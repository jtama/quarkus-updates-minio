type: specs.openrewrite.org/v1beta/recipe
name: io.quakus.updates.minio.minio38.UpdateAll
recipeList:
  - io.quarkus.updates.minio.minio38.UpdateProperties
  - io.quarkus.updates.quarkiverse.minio.minio38AdjustURLPropertyValue


#####
# Adjust properties in application.properties
#####
---
type: specs.openrewrite.org/v1beta/recipe
name: io.quarkus.updates.minio.minio38.UpdateProperties
recipeList:
  - org.openrewrite.quarkus.ChangeQuarkusPropertyKey:
      oldPropertyKey: quarkus.minio.(.*\.)?url
      newPropertyKey: quarkus.minio.$1host
      changeAllProfiles: true
  - org.openrewrite.java.ChangeAnnotationAttributeName:
      annotationType: org.eclipse.microprofile.config.inject.ConfigProperty
      oldAttributeName: name
      newAttributeName: key